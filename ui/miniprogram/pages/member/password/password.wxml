<!--pages/member/password/password.wxml-->
<view class="password-container">
  <view class="password-content">
    <fresh-card shadow="{{true}}" radius="large">
      <view class="form-section">
        <!-- 当前密码 -->
        <fresh-form-item 
          label="当前密码" 
          required="{{true}}"
          error="{{errors.oldPassword}}"
        >
          <view class="password-input-wrapper">
            <input
              class="fresh-input password-input"
              type="{{showPasswords.old ? 'text' : 'password'}}"
              placeholder="请输入当前密码"
              value="{{formData.oldPassword}}"
              data-field="oldPassword"
              bindinput="onInput"
            />
            <view 
              class="password-toggle"
              data-type="old"
              bindtap="togglePassword"
            >
              <text>{{showPasswords.old ? '👁️' : '👁️‍🗨️'}}</text>
            </view>
          </view>
        </fresh-form-item>

        <!-- 新密码 -->
        <fresh-form-item 
          label="新密码" 
          required="{{true}}"
          error="{{errors.newPassword}}"
        >
          <view class="password-input-wrapper">
            <input
              class="fresh-input password-input"
              type="{{showPasswords.new ? 'text' : 'password'}}"
              placeholder="请输入新密码（6-20位）"
              value="{{formData.newPassword}}"
              data-field="newPassword"
              bindinput="onInput"
              maxlength="20"
            />
            <view 
              class="password-toggle"
              data-type="new"
              bindtap="togglePassword"
            >
              <text>{{showPasswords.new ? '👁️' : '👁️‍🗨️'}}</text>
            </view>
          </view>
        </fresh-form-item>

        <!-- 确认新密码 -->
        <fresh-form-item 
          label="确认新密码" 
          required="{{true}}"
          error="{{errors.confirmPassword}}"
        >
          <view class="password-input-wrapper">
            <input
              class="fresh-input password-input"
              type="{{showPasswords.confirm ? 'text' : 'password'}}"
              placeholder="请再次输入新密码"
              value="{{formData.confirmPassword}}"
              data-field="confirmPassword"
              bindinput="onInput"
              maxlength="20"
            />
            <view 
              class="password-toggle"
              data-type="confirm"
              bindtap="togglePassword"
            >
              <text>{{showPasswords.confirm ? '👁️' : '👁️‍🗨️'}}</text>
            </view>
          </view>
        </fresh-form-item>
      </view>
    </fresh-card>

    <!-- 操作按钮 -->
    <view class="action-buttons">
      <fresh-button
        type="primary"
        size="large"
        block="{{true}}"
        loading="{{saveLoading}}"
        text="确认修改"
        bindtap="onSave"
      />
      
      <fresh-button
        type="secondary"
        size="large"
        block="{{true}}"
        text="重置"
        custom-class="mt-32"
        bindtap="onReset"
      />
    </view>
  </view>

  <!-- 安全提示 -->
  <view class="security-tips">
    <fresh-card type="warning" radius="medium">
      <view class="tips-content">
        <view class="tips-title">🔒 安全提示</view>
        <view class="tips-list">
          <text>• 密码长度为6-20位字符</text>
          <text>• 建议使用字母、数字和符号的组合</text>
          <text>• 不要使用过于简单的密码</text>
          <text>• 定期更换密码以保障账号安全</text>
          <text>• 修改密码后请重新登录</text>
        </view>
      </view>
    </fresh-card>
  </view>
</view>