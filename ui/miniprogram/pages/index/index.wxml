<!--pages/index/index.wxml-->
<view class="container">
  <!-- 主要内容区 -->
  <view class="main-content">
    <view class="page-title">您的专属会员服务平台</view>
    
    <!-- 微信用户信息展示 -->
    <view class="user-card">
      <view class="user-info-section">
        <image 
          class="user-avatar" 
          src="{{userInfo.avatar || '/images/default-avatar.png'}}" 
          mode="aspectFill"
        ></image>
        <view class="user-details">
          <view class="user-greeting">欢迎回来</view>
          <view class="user-subtitle">保持活跃，享受更多权益</view>
        </view>
      </view>
      
      <view class="user-stats">
        <view class="stat-item">
          <view class="stat-value balance">¥{{userInfo.balance || 0}}</view>
          <view class="stat-label">余额</view>
        </view>
        <view class="stat-item">
          <view class="stat-value points">{{userInfo.points || 0}}</view>
          <view class="stat-label">积分</view>
        </view>
      </view>
    </view>

    <!-- 功能菜单 -->
    <view class="menu-grid">
      <view class="menu-item" bindtap="goToProfile">
        <view class="menu-icon blue">
          <text class="icon-text">👤</text>
        </view>
        <view class="menu-content">
          <view class="menu-title">个人中心</view>
          <view class="menu-desc">管理个人信息</view>
        </view>
      </view>
      
      <view class="menu-item" bindtap="goToAsset">
        <view class="menu-icon orange">
          <text class="icon-text">💰</text>
        </view>
        <view class="menu-content">
          <view class="menu-title">资产管理</view>
          <view class="menu-desc">查询余额积分</view>
        </view>
      </view>
      
      <view class="menu-item">
        <view class="menu-icon gray">
          <text class="icon-text">⚙️</text>
        </view>
        <view class="menu-content">
          <view class="menu-title">更多功能</view>
          <view class="menu-desc">敬请期待</view>
        </view>
      </view>
      
      <view class="menu-item">
        <view class="menu-icon green">
          <text class="icon-text">❓</text>
        </view>
        <view class="menu-content">
          <view class="menu-title">帮助中心</view>
          <view class="menu-desc">常见问题</view>
        </view>
      </view>
    </view>

    <!-- 未登录状态显示 -->
    <view wx:if="{{!hasUserInfo}}" class="login-section">
      <view class="login-prompt">请先登录以享受完整服务</view>
      <view class="login-buttons">
        <button class="login-btn primary" bindtap="goToLogin">
          立即登录
        </button>
        <button class="login-btn wechat" bindtap="onWechatLogin">
          微信快速登录
        </button>
      </view>
    </view>
  </view>
</view>