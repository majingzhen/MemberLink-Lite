<!--pages/index/index.wxml-->
<view class="container">
  <!-- 头部欢迎区域 -->
  <view class="welcome-section">
    <view class="welcome-card fresh-card fade-in">
      <view class="welcome-content">
        <view class="welcome-title">欢迎使用会员通・轻框架</view>
        <view class="welcome-subtitle">您的专属会员服务平台</view>
        
        <view wx:if="{{hasUserInfo}}" class="user-welcome">
          <image class="user-avatar" src="{{userInfo.avatar || '/images/default-avatar.png'}}" mode="aspectFill"></image>
          <view class="user-info">
            <view class="user-nickname">{{userInfo.nickname || userInfo.username}}</view>
            <view class="user-desc">欢迎回来！</view>
          </view>
        </view>
        
        <view wx:else class="login-prompt">
          <view class="prompt-text">请先登录以享受完整服务</view>
          <button class="fresh-button login-btn" bindtap="goToLogin">立即登录</button>
          <button class="fresh-button secondary wechat-btn mt-16" bindtap="onWechatLogin">
            <text class="btn-icon">👤</text>
            微信快速登录
          </button>
        </view>
      </view>
    </view>
  </view>

  <!-- 功能菜单区域 -->
  <view class="menu-section">
    <view class="section-title">功能菜单</view>
    
    <view class="menu-grid">
      <!-- 个人中心 -->
      <view class="menu-item fresh-card" bindtap="goToProfile">
        <view class="menu-icon">👤</view>
        <view class="menu-title">个人中心</view>
        <view class="menu-desc">管理个人信息</view>
      </view>
      
      <!-- 资产管理 -->
      <view class="menu-item fresh-card" bindtap="goToAsset">
        <view class="menu-icon">💰</view>
        <view class="menu-title">资产管理</view>
        <view class="menu-desc">查看余额积分</view>
      </view>
      
      <!-- 更多功能 -->
      <view class="menu-item fresh-card">
        <view class="menu-icon">⚙️</view>
        <view class="menu-title">更多功能</view>
        <view class="menu-desc">敬请期待</view>
      </view>
      
      <!-- 帮助中心 -->
      <view class="menu-item fresh-card">
        <view class="menu-icon">❓</view>
        <view class="menu-title">帮助中心</view>
        <view class="menu-desc">常见问题</view>
      </view>
    </view>
  </view>

  <!-- 快捷操作区域 -->
  <view wx:if="{{hasUserInfo}}" class="quick-actions">
    <view class="section-title">快捷操作</view>
    
    <view class="actions-card fresh-card">
      <view class="action-item" bindtap="goToAsset">
        <view class="action-icon">📊</view>
        <view class="action-text">查看资产</view>
      </view>
      
      <view class="action-item">
        <view class="action-icon">🎁</view>
        <view class="action-text">签到领积分</view>
      </view>
      
      <view class="action-item">
        <view class="action-icon">🔄</view>
        <view class="action-text">交易记录</view>
      </view>
    </view>
  </view>

  <!-- 系统信息（开发调试用） -->
  <view wx:if="{{systemInfo}}" class="debug-info">
    <view class="debug-title">系统信息</view>
    <view class="debug-content">
      <text>设备: {{systemInfo.brand}} {{systemInfo.model}}</text>
      <text>系统: {{systemInfo.system}}</text>
      <text>微信版本: {{systemInfo.version}}</text>
    </view>
  </view>
</view>