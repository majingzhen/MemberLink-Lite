# 会员通・轻框架微信小程序

## 项目概述

这是会员通・轻框架的微信小程序端，采用清新活力的设计风格，提供会员注册、登录、个人信息管理、资产管理等核心功能。

## 项目结构

```
miniprogram/
├── app.js                 # 小程序入口文件
├── app.json              # 小程序配置文件
├── app.wxss              # 全局样式文件
├── sitemap.json          # 站点地图配置
├── project.config.json   # 项目配置文件
├── utils/                # 工具函数目录
│   ├── request.js        # API请求封装
│   ├── loading.js        # 加载状态管理
│   ├── error.js          # 错误处理
│   └── util.js           # 通用工具函数
├── images/               # 图片资源目录
│   ├── tab/              # 底部导航图标
│   └── default-avatar.png # 默认头像
├── components/           # 自定义组件目录（待实现）
└── pages/                # 页面目录
    ├── index/            # 首页
    ├── auth/             # 认证相关页面（待实现）
    ├── member/           # 会员相关页面（待实现）
    └── asset/            # 资产相关页面（待实现）
```

## 技术特性

### 1. 清新活力设计风格
- 渐变色彩搭配（紫蓝色系）
- 圆角卡片设计
- 流畅动画过渡
- 现代化交互体验

### 2. 统一API请求封装
- 自动添加认证头
- 统一错误处理
- 加载状态管理
- 请求/响应拦截器

### 3. 完善的错误处理机制
- 分类错误处理（网络、认证、业务、验证）
- 自动重试机制
- 用户友好的错误提示
- 错误日志记录

### 4. 工具函数库
- 时间格式化
- 数据验证
- 防抖节流
- 深拷贝等常用工具

## 开发规范

### 1. 文件命名
- 页面文件：使用小写字母和连字符，如 `user-profile`
- 组件文件：使用 PascalCase，如 `FreshButton`
- 工具文件：使用小写字母，如 `request.js`

### 2. 样式规范
- 使用 CSS 变量定义主题色彩
- 统一的间距和圆角规范
- 响应式设计适配不同屏幕
- 动画效果使用 CSS3 transition

### 3. 代码规范
- 使用 ES6+ 语法
- 函数和变量使用驼峰命名
- 添加必要的注释
- 错误处理要完善

## 配置说明

### 1. 项目配置 (project.config.json)
- `appid`: 小程序 AppID（需要替换为实际的）
- `setting.urlCheck`: 设置为 false 以便本地开发
- `libVersion`: 基础库版本要求

### 2. 应用配置 (app.json)
- `pages`: 页面路径配置
- `window`: 全局窗口配置
- `tabBar`: 底部导航配置
- `networkTimeout`: 网络超时配置

### 3. 全局数据 (app.js)
- `baseURL`: API 服务器地址
- `userInfo`: 用户信息
- `token`: 认证令牌

## 开发指南

### 1. 环境准备
1. 下载并安装微信开发者工具
2. 导入项目到开发者工具
3. 配置 AppID（测试可使用测试号）
4. 启动后端服务（确保 API 可访问）

### 2. 本地开发
1. 修改 `utils/request.js` 中的 `baseURL` 为实际后端地址
2. 在开发者工具中预览和调试
3. 使用真机调试测试实际效果

### 3. 页面开发流程
1. 在 `app.json` 中添加页面路径
2. 创建页面文件（.js, .wxml, .wxss, .json）
3. 实现页面逻辑和样式
4. 测试页面功能

### 4. 组件开发流程
1. 在 `components` 目录创建组件
2. 实现组件逻辑和样式
3. 在页面中引用和使用组件

## API 接口

### 1. 认证接口
- `POST /auth/login` - 用户登录
- `POST /auth/register` - 用户注册
- `POST /auth/refresh` - 刷新令牌
- `POST /auth/logout` - 用户登出

### 2. 用户接口
- `GET /user/profile` - 获取个人信息
- `PUT /user/profile` - 更新个人信息
- `PUT /user/password` - 修改密码
- `POST /user/avatar` - 上传头像

### 3. 资产接口
- `GET /asset/info` - 获取资产信息
- `GET /asset/balance/records` - 余额变动记录
- `GET /asset/points/records` - 积分变动记录

## 部署说明

### 1. 开发版本
- 在微信开发者工具中上传代码
- 设置为开发版本供内部测试

### 2. 体验版本
- 提交审核前的预览版本
- 可以分享给指定用户体验

### 3. 正式版本
- 提交微信官方审核
- 审核通过后发布上线

## 注意事项

1. **图片资源**: 当前使用的是占位符文件，实际开发中需要替换为真实的图片文件
2. **AppID 配置**: 需要在 `project.config.json` 中配置真实的小程序 AppID
3. **域名配置**: 需要在小程序后台配置服务器域名白名单
4. **HTTPS 要求**: 正式环境必须使用 HTTPS 协议
5. **权限申请**: 某些功能需要申请相应的小程序权限

## 后续开发计划

1. **组件开发**: 实现通用组件（分页、表单、按钮等）
2. **页面完善**: 完成所有功能页面的开发
3. **功能增强**: 添加微信授权登录、支付等功能
4. **性能优化**: 代码分包、图片优化等
5. **用户体验**: 完善交互动画和反馈机制